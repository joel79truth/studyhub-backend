<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>üé• Video Lessons</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
<style>
/* ===== Global ===== */
* { box-sizing: border-box; margin: 0; padding: 0; }
body {
  font-family: 'Poppins', sans-serif;
  background: #0f172a;
  color: #f1f5f9;
  display: flex; flex-direction: column;
  min-height: 100vh;
}

/* ===== Header ===== */
header {
  background: linear-gradient(90deg, #2563eb, #16a34a);
  padding: 15px 25px;
  font-size: 22px; font-weight: 700; text-align: center;
  box-shadow: 0 4px 12px rgba(0,0,0,0.4);
  position: sticky; top: 0; z-index: 10;
}

/* ===== Toolbar ===== */
.toolbar {
  display: flex; flex-wrap: wrap; gap: 10px;
  justify-content: center; padding: 15px; background: #1e293b;
}
.toolbar input {
  flex: 1; min-width: 200px; max-width: 400px;
  padding: 10px 15px; border-radius: 25px; border: none;
  background: rgba(255,255,255,0.1); color: #fff;
}
.toolbar select, .toolbar button {
  padding: 10px 15px; border-radius: 25px; border: none;
  background: #2563eb; color: #fff; font-weight: 600;
  cursor: pointer; transition: 0.3s;
}
.toolbar button:hover, .toolbar select:hover { background: #1d4ed8; }

/* ===== Player ===== */
.player {
  padding: 20px; background: #111827; text-align: center;
}
.player iframe {
  width: 100%; height: 420px; border-radius: 12px;
  border: none; box-shadow: 0 6px 20px rgba(0,0,0,0.6);
}
.player h3 { margin-top: 12px; font-size: 18px; font-weight: 600; }
.player p { font-size: 14px; color: #94a3b8; }

/* ===== Video Grid ===== */
.video-grid {
  display: grid; grid-template-columns: repeat(auto-fill,minmax(280px,1fr));
  gap: 20px; padding: 20px; flex: 1;
}
.video-card {
  background: rgba(255,255,255,0.08);
  border-radius: 16px; overflow: hidden;
  backdrop-filter: blur(10px);
  box-shadow: 0 6px 20px rgba(0,0,0,0.5);
  transition: transform .3s, box-shadow .3s;
  cursor: pointer; position: relative;
}
.video-card:hover {
  transform: translateY(-6px);
  box-shadow: 0 12px 30px rgba(0,0,0,0.6);
}
.thumbnail img { width: 100%; height: 160px; object-fit: cover; }
.video-info { padding: 12px; }
.video-info h4 { font-size: 15px; font-weight: 600; margin-bottom: 5px; }
.video-info p { font-size: 13px; color: #cbd5e1; }

/* Favorite badge */
.favorite { position: absolute; top: 10px; right: 10px; font-size: 18px; cursor: pointer; }
.favorite.active { color: #facc15; }

/* Responsive */
@media(max-width:768px){ .player iframe { height: 240px; } }
</style>
</head>

  


  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-0LTZS1S9W6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-0LTZS1S9W6');
  </script>

<body>

<header>üé• Video Lessons Hub</header>

<!-- Toolbar -->
<div class="toolbar">
  <input type="text" id="searchBar" placeholder="Search videos..." onkeyup="filterVideos()">
  <select id="categorySelect" onchange="filterCategory()">
    <option value="All">All Categories</option>
    <option value="Tutorial">Tutorial</option>
    <option value="Exam Prep">Exam Prep</option>
    <option value="Skills">Skills</option>
    <option value="Recorded Lecture">Recorded Lecture</option>
  </select>
  <select id="sortSelect" onchange="sortVideos()">
    <option value="newest">Newest</option>
    <option value="oldest">Oldest</option>
    <option value="title">Title A‚ÄìZ</option>
  </select>
  <button onclick="showFavorites()">‚≠ê Favorites</button>
  <button onclick="showHistory()">üïí History</button>
  <button onclick="window.location.href='index.html'">‚¨Ö Back</button>
</div>

<!-- Player -->
<div class="player" id="player">
  <iframe id="mainPlayer" src="" allowfullscreen></iframe>
  <h3 id="videoTitle">Select a lesson to start learning</h3>
  <p id="videoCategory"></p>
</div>

<!-- Grid -->
<div class="video-grid" id="videoList"></div>

<script>
const videos = [
  { title:"How to Study Effectively", youtubeId:"lJM4GuUd3Hk", category:"Tutorial", date:"2023-07-20" },
  { title:"Past Exam Review 2022", youtubeId:"utEMUiC59F4", category:"Exam Prep", date:"2022-11-01" },
  { title:"Excel Skills Basics", youtubeId:"DW4rItB20h4", category:"Skills", date:"2024-02-15" },
  { title:"Recorded Lecture: Biology", youtubeId:"046-DygKrhc", category:"Recorded Lecture", date:"2023-05-10" },
];

let favorites = JSON.parse(localStorage.getItem("favorites")||"[]");
let history = JSON.parse(localStorage.getItem("history")||"[]");

const container = document.getElementById('videoList');
const player = document.getElementById('mainPlayer');
const titleEl = document.getElementById('videoTitle');
const categoryEl = document.getElementById('videoCategory');

// Render
function renderVideos(list){
  container.innerHTML="";
  list.forEach(video=>{
    const card=document.createElement("div");
    card.className="video-card";
    card.innerHTML=`
      <span class="favorite ${favorites.includes(video.youtubeId)?"active":""}" 
        onclick="toggleFavorite(event,'${video.youtubeId}')">‚òÖ</span>
      <div class="thumbnail">
        <img src="https://img.youtube.com/vi/${video.youtubeId}/hqdefault.jpg">
      </div>
      <div class="video-info">
        <h4>${video.title}</h4>
        <p>${video.category}</p>
      </div>
    `;
    card.onclick=()=>playVideo(video);
    container.appendChild(card);
  });
}
renderVideos(videos);

// Play
function playVideo(video){
  player.src=`https://www.youtube.com/embed/${video.youtubeId}?autoplay=1`;
  titleEl.textContent=video.title;
  categoryEl.textContent=video.category;
  // save history
  history.unshift(video);
  history=[...new Map(history.map(v=>[v.youtubeId,v])).values()].slice(0,10);
  localStorage.setItem("history",JSON.stringify(history));
}

// Search
function filterVideos(){
  const term=document.getElementById('searchBar').value.toLowerCase();
  renderVideos(videos.filter(v=>v.title.toLowerCase().includes(term)));
}

// Category
function filterCategory(){
  const cat=document.getElementById('categorySelect').value;
  if(cat==="All") renderVideos(videos);
  else renderVideos(videos.filter(v=>v.category===cat));
}

// Sort
function sortVideos(){
  const sort=document.getElementById('sortSelect').value;
  let sorted=[...videos];
  if(sort==="newest") sorted.sort((a,b)=>new Date(b.date)-new Date(a.date));
  if(sort==="oldest") sorted.sort((a,b)=>new Date(a.date)-new Date(b.date));
  if(sort==="title") sorted.sort((a,b)=>a.title.localeCompare(b.title));
  renderVideos(sorted);
}

// Favorites
function toggleFavorite(e,id){
  e.stopPropagation();
  if(favorites.includes(id)) favorites=favorites.filter(f=>f!==id);
  else favorites.push(id);
  localStorage.setItem("favorites",JSON.stringify(favorites));
  renderVideos(videos);
}
function showFavorites(){
  renderVideos(videos.filter(v=>favorites.includes(v.youtubeId)));
}
// History
function showHistory(){
  renderVideos(history);
}
</script>
</body>
</html>
