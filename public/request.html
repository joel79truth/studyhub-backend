<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Request Notes | StudyHub LUANAR</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');

* { margin:0; padding:0; box-sizing:border-box; }

body {
  font-family: 'Inter', sans-serif;
  min-height:100vh;
  background: linear-gradient(135deg,#667eea 0%,#764ba2 100%);
  display:flex;
  justify-content:center;
  align-items:center;
  padding:2rem;
  color:white;
}

.container {
  background: rgba(255,255,255,0.15);
  backdrop-filter: blur(20px);
  border-radius: 20px;
  padding: 2.5rem 2rem;
  width:100%;
  max-width:480px;
  box-shadow: 0 15px 35px rgba(0,0,0,0.3);
  text-align:center;
}

h1 {
  font-size:2.2rem;
  margin-bottom:1rem;
  font-weight:700;
  letter-spacing:1px;
  position: relative;
}
h1::before {
  content:'üìö';
  display:block;
  font-size:2.8rem;
  margin-bottom:0.5rem;
}

form {
  display:flex;
  flex-direction:column;
  gap:1rem;
  margin-top:1rem;
}

label {
  font-weight:600;
  text-align:left;
  margin-bottom:0.25rem;
  color:white;
}

input {
  padding: 0.85rem 1rem;
  border-radius: 12px;
  border:none;
  font-size:1rem;
  outline:none;
  background: rgba(255,255,255,0.2);
  color:white;
  transition: all 0.3s ease;
}
input::placeholder {
  color: rgba(255,255,255,0.7);
}
input:focus {
  background: rgba(255,255,255,0.3);
  box-shadow: 0 4px 15px rgba(0,0,0,0.3);
  transform: translateY(-2px);
}

button {
  margin-top:10px;
  padding:14px;
  font-size:1rem;
  font-weight:600;
  border:none;
  border-radius:12px;
  cursor:pointer;
  background: linear-gradient(135deg,#43cea2 0%,#185a9d 100%);
  color:white;
  transition: all 0.3s ease;
}
button:hover {
  transform: translateY(-3px);
  box-shadow: 0 8px 25px rgba(0,0,0,0.35);
}

.success {
  margin-top:15px;
  font-weight:600;
  color:#10b981;
  display:none;
  animation: fadeIn 0.5s ease forwards;
}

.back-link {
  display:block;
  margin-top:20px;
  text-decoration:none;
  font-weight:600;
  color:white;
  transition: all 0.3s ease;
}
.back-link:hover {
  color:#dcdcdc;
  text-decoration:underline;
}

@keyframes fadeIn {
  from { opacity:0; }
  to { opacity:1; }
}

@media(max-width:500px){
  .container {
    padding:1.8rem 1.5rem;
  }
}
</style>
</head>
<body>

<div class="container">
  <h1>Request Notes</h1>

  <form id="requestForm" aria-label="Request notes form">
    <label for="topic">Topic</label>
    <input type="text" id="topic" name="topic" placeholder="Enter topic" required />

    <label for="course">Course / Subject</label>
    <input type="text" id="course" name="course" placeholder="Enter course/subject" required />

    <label for="program">Your Program</label>
    <input type="text" id="program" name="program" placeholder="Enter program" required />

    <label for="semester">Semester</label>
    <input type="text" id="semester" name="semester" placeholder="Enter semester" required />

    <label for="notes">Additional Notes (optional)</label>
    <input type="text" id="notes" name="notes" placeholder="Any extra info" />

    <label for="email">Your Email (optional)</label>
    <input type="email" id="email" name="email" placeholder="example@mail.com" />

    <button type="submit" aria-label="Submit note request">Submit Request</button>
    <p class="success" id="successMsg" role="alert" aria-live="polite">‚úÖ Request sent successfully!</p>
  </form>

  <a href="index.html" class="back-link" aria-label="Back to Home">‚Üê Back to Home</a>
</div>

<script>
document.getElementById("requestForm").addEventListener("submit", async (e) => {
  e.preventDefault();
  const topic = document.getElementById("topic").value.trim();
  const course = document.getElementById("course").value.trim();
  const program = document.getElementById("program").value.trim();
  const semester = document.getElementById("semester").value.trim();
  const notes = document.getElementById("notes").value.trim();
  const email = document.getElementById("email").value.trim();

  if (!topic || !course || !program || !semester) {
    alert("Please fill in all required fields.");
    return;
  }

  try {
    const res = await fetch("/submit-request", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ topic, course, program, semester, notes, email })
    });

    if (res.ok) {
      const msg = document.getElementById("successMsg");
      msg.style.display = "block";
      setTimeout(() => { msg.style.display = "none"; }, 3500);
      document.getElementById("requestForm").reset();
    } else {
      alert("‚ùå Failed to submit. Please try again.");
    }
  } catch {
    alert("‚ùå Failed to submit. Please try again.");
  }
});
</script>

</body>
</html>
